---
title: 适配器模式
date: 2019-04-14 09:44:58
tags: Design
categories: 设计模式
---

### 什么是适配器模式
> 将一个接口变换成客户期待的另一个的接口，从而使原本因接口不匹配无法一起工作的两个类能够一起工作。
生活中不乏这样的案例，如电脑的电源适配器，它的作用主要是解决家用电和电脑之间的兼容问题

通过适配器模式可以解决‘现有程序’和‘所需程序’之间的差异，让现有程序和所需程序能够完美的兼容。

### 如何做一个将"交流100伏特电压"转换成“直流12伏特电压”的适配器
### 适配器模式的两种实现
+ 类适配器模式(继承）
+ 对象适配器模式(委托)

#### 继承适配器模式

```java
public class Banner{
    //现有的实际情况
    private String string;

    public void showWithParen(){
        System.out.println("");
    }

    public void showWithAster(){
        System.out.println(""); 
    }
}
```

```java
public interface Print{
    //需求接口

    public abstract void printWeak();
    public abstract void printStrong();
}
```

```java
public class PrintBanner extends Banner implements Print{
    //适配器类：在实现了现有的需求接口的方法中对原有的功能情况进行包装，以达到适配以前功能的目的。

    public void printWeak(){
        showWithParen();
    }

    public void printStrong(){
        showWithAster();
    }
}
```
##### 调用方法
```java
Print p = new PringBanner("hello");
p.pritWeak();
p.printStrong();
```

#### 好处
+ 面向接口编程，客户端代码只需要通过Print接口进行调用，隐藏了方法实现。(连接笔记本电脑的12伏特电压就有可能是由100伏特交流电压通过适配器转换而成的)

#### 委托适配器模式
通过委托来实现适配器
+ 适配器(PrintBanner)通过调用现有需求的方法(Print)来间接调用以前的的功能(Banner)
+ Banner通过委托的形式传入到适配器(PrintBanner)中,现有功能(Print)作为抽象类被适配器继承。

> Talk is cheap, show me the code

```java
publc abstract class Print{
    //抽象类
    public abstract void printWeak();
    public abstract void printStrong();
}
```

```java
public class PrintBanner extends Print{
    //通过委托的形式将原有功能注入进来，由此虽然调用的是新的功能方法，但实际调用的还是以前的老功能，由此实现了新、老功能之间的适配兼容。
    private Banner banner;

    public void printWeak(){
        banner.shouwWithParen();
    }

    public void printStrong(){
        banner.showWithAster();
    }
}
```




